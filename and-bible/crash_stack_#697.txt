---- The first stack trace ----

D BibleView[2] WIN: updateText, isVisible: true, stack: java.lang.Exception
D BibleView[2] WIN: 	at net.bible.android.control.page.window.Window.updateText(Window.kt:158)
D BibleView[2] WIN: 	at net.bible.android.control.BibleContentManager.updateText(BibleContentManager.kt:66)
D BibleView[2] WIN: 	at net.bible.android.control.BibleContentManager.updateText$default(BibleContentManager.kt:44)
D BibleView[2] WIN: 	at net.bible.android.control.BibleContentManager.updateText(BibleContentManager.kt)
D BibleView[2] WIN: 	at net.bible.android.control.PassageChangeMediator.onCurrentPageChanged(PassageChangeMediator.java:62)
D BibleView[2] WIN: 	at net.bible.android.control.page.CurrentPageManager.setCurrentDocumentAndKey(CurrentPageManager.kt:182)
D BibleView[2] WIN: 	at net.bible.android.control.page.CurrentPageManager.setCurrentDocumentAndKey$default(CurrentPageManager.kt:165)
D BibleView[2] WIN: 	at net.bible.service.history.KeyHistoryItem.revertTo(KeyHistoryItem.kt:60)
D BibleView[2] WIN: 	at net.bible.service.history.HistoryManager.goBack(HistoryManager.kt:191)
D BibleView[2] WIN: 	at net.bible.service.history.HistoryTraversal.goBack(HistoryTraversal.kt:44)
D BibleView[2] WIN: 	at net.bible.android.view.activity.page.MainBibleActivity.onBackPressed(MainBibleActivity.kt:454)
D BibleView[2] WIN: 	at android.app.Activity.onKeyUp(Activity.java:2477)
D BibleView[2] WIN: 	at net.bible.android.view.activity.page.MainBibleActivity.onKeyUp(MainBibleActivity.kt:1098)
D BibleView[2] WIN: 	at android.view.KeyEvent.dispatch(KeyEvent.java:2664)
D BibleView[2] WIN: 	at androidx.core.view.KeyEventDispatcher.activitySuperDispatchKeyEventPre28(KeyEventDispatcher.java:137)
D BibleView[2] WIN: 	at androidx.core.view.KeyEventDispatcher.dispatchKeyEvent(KeyEventDispatcher.java:87)
D BibleView[2] WIN: 	at androidx.core.app.ComponentActivity.dispatchKeyEvent(ComponentActivity.java:140)
D BibleView[2] WIN: 	at androidx.appcompat.app.AppCompatActivity.dispatchKeyEvent(AppCompatActivity.java:558)
D BibleView[2] WIN: 	at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent(WindowCallbackWrapper.java:59)
D BibleView[2] WIN: 	at androidx.appcompat.app.AppCompatDelegateImpl$AppCompatWindowCallback.dispatchKeyEvent(AppCompatDelegateImpl.java:2814)
D BibleView[2] WIN: 	at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent(WindowCallbackWrapper.java:59)
D BibleView[2] WIN: 	at com.android.internal.policy.PhoneWindow$DecorView.dispatchKeyEvent(PhoneWindow.java:2310)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:4127)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4089)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3642)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3695)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3661)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3787)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3669)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:3844)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3642)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3695)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3661)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:3669)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:3642)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:3695)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:3661)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:3820)
D BibleView[2] WIN: 	at android.view.ViewRootImpl$ImeInputStage.onFinishedInputEvent(ViewRootImpl.java:3981)
D BibleView[2] WIN: 	at android.view.inputmethod.InputMethodManager$PendingEvent.run(InputMethodManager.java:2253)
D BibleView[2] WIN: 	at android.view.inputmethod.InputMethodManager.invokeFinishedInputEventCallback(InputMethodManager.java:1874)
D BibleView[2] WIN: 	at android.view.inputmethod.InputMethodManager.finishedInputEvent(InputMethodManager.java:1865)
D BibleView[2] WIN: 	at android.view.inputmethod.InputMethodManager$ImeInputEventSender.onInputEventFinished(InputMethodManager.java:2230)
D BibleView[2] WIN: 	at android.view.InputEventSender.dispatchInputEventFinished(InputEventSender.java:141)
D BibleView[2] WIN: 	at android.os.MessageQueue.nativePollOnce(Native Method)
D BibleView[2] WIN: 	at android.os.MessageQueue.next(MessageQueue.java:323)
D BibleView[2] WIN: 	at android.os.Looper.loop(Looper.java:135)
D BibleView[2] WIN: 	at android.app.ActivityThread.m
D BibleView[2] WIN: Loading html in background

---- The second stack trace -----

D MyNoteDBAdapter: Versification found:org.crosswire.jsword.versification.system.SystemKJV@3f501db
D MyNoteDBAdapter: Versification found:org.crosswire.jsword.versification.system.SystemKJV@3f501db
D MyNoteDBAdapter: Versification found:org.crosswire.jsword.versification.system.SystemKJV@3f501db
D MyNoteDBAdapter: Versification found:org.crosswire.jsword.versification.system.SystemKJV@3f501db
D MyNoteDBAdapter: Versification found:org.crosswire.jsword.versification.system.SystemKJV@3f501db
D MyNoteDBAdapter: Versification found:org.crosswire.jsword.versification.system.SystemKJV@3f501db
D MyNoteDBAdapter: Versification found:org.crosswire.jsword.versification.system.SystemKJV@3f501db
E MyNoteDBAdapter: Note saved with incorrect versification
E MyNoteDBAdapter: org.crosswire.jsword.passage.NoSuchVerseException: Verse should be between 0 and 0 for John 0 (given 1).
E MyNoteDBAdapter: 	at org.crosswire.jsword.versification.Versification.validate(Versification.java:1105)
E MyNoteDBAdapter: 	at org.crosswire.jsword.versification.Versification.validate(Versification.java:1046)
E MyNoteDBAdapter: 	at org.crosswire.jsword.passage.VerseRangeFactory.fromText(VerseRangeFactory.java:119)
E MyNoteDBAdapter: 	at org.crosswire.jsword.passage.VerseRangeFactory.fromString(VerseRangeFactory.java:87)
E MyNoteDBAdapter: 	at org.crosswire.jsword.passage.VerseRangeFactory.fromString(VerseRangeFactory.java:55)
E MyNoteDBAdapter: 	at net.bible.service.db.mynote.MyNoteDBAdapter.getMyNoteDto(MyNoteDBAdapter.kt:195)
E MyNoteDBAdapter: 	at net.bible.service.db.mynote.MyNoteDBAdapter.getMyNotesInBook(MyNoteDBAdapter.kt:126)
E MyNoteDBAdapter: 	at net.bible.service.format.usermarks.MyNoteFormatSupport.getVersesWithNotesInPassage(MyNoteFormatSupport.java:57)
E MyNoteDBAdapter: 	at net.bible.service.sword.SwordContentFacade.getSaxHandler(SwordContentFacade.kt:374)
E MyNoteDBAdapter: 	at net.bible.service.sword.SwordContentFacade.readHtmlTextOptimizedZTextOsis$app_debug(SwordContentFacade.kt:153)
E MyNoteDBAdapter: 	at net.bible.service.sword.SwordContentFacade.readHtmlText(SwordContentFacade.kt:104)
E MyNoteDBAdapter: 	at net.bible.android.control.page.CurrentPageBase.getPageContent(CurrentPageBase.kt:124)
E MyNoteDBAdapter: 	at net.bible.android.control.page.CurrentBiblePage.getFragmentForChapter(CurrentBiblePage.kt:68)
E MyNoteDBAdapter: 	at net.bible.android.view.activity.page.BibleInfiniteScrollPopulator$requestMoreTextAtEnd$1.invoke(BibleInfiniteScrollPopulator.kt:61)
E MyNoteDBAdapter: 	at net.bible.android.view.activity.page.BibleInfiniteScrollPopulator$requestMoreTextAtEnd$1.invoke(BibleInfiniteScrollPopulator.kt:34)
E MyNoteDBAdapter: 	at org.jetbrains.anko.AsyncKt$doAsync$1.invoke(Async.kt:143)
E MyNoteDBAdapter: 	at org.jetbrains.anko.AsyncKt$doAsync$1.invoke(Async.kt)
E MyNoteDBAdapter: 	at org.jetbrains.anko.AsyncKt$sam$java_util_concurrent_Callable$0.call(Async.kt)
E MyNoteDBAdapter: 	at java.util.concurrent.FutureTask.run(FutureTask.java:237)
E MyNoteDBAdapter: 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)
E MyNoteDBAdapter: 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
E MyNoteDBAdapter: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
E MyNoteDBAdapter: 	at java.lang.Thread.run(Thread.java:818)
E MyNoteDBAdapter: Key error
E MyNoteDBAdapter: org.crosswire.jsword.passage.NoSuchVerseException: Verse should be between 0 and 0 for John 0 (given 1).
E MyNoteDBAdapter: 	at org.crosswire.jsword.versification.Versification.validate(Versification.java:1105)
E MyNoteDBAdapter: 	at org.crosswire.jsword.versification.Versification.validate(Versification.java:1046)
E MyNoteDBAdapter: 	at org.crosswire.jsword.passage.VerseRangeFactory.fromText(VerseRangeFactory.java:119)
E MyNoteDBAdapter: 	at org.crosswire.jsword.passage.VerseRangeFactory.fromString(VerseRangeFactory.java:87)
E MyNoteDBAdapter: 	at org.crosswire.jsword.passage.VerseRangeFactory.fromString(VerseRangeFactory.java:55)
E MyNoteDBAdapter: 	at net.bible.service.db.mynote.MyNoteDBAdapter.getMyNoteDto(MyNoteDBAdapter.kt:201)
E MyNoteDBAdapter: 	at net.bible.service.db.mynote.MyNoteDBAdapter.getMyNotesInBook(MyNoteDBAdapter.kt:126)
E MyNoteDBAdapter: 	at net.bible.service.format.usermarks.MyNoteFormatSupport.getVersesWithNotesInPassage(MyNoteFormatSupport.java:57)
E MyNoteDBAdapter: 	at net.bible.service.sword.SwordContentFacade.getSaxHandler(SwordContentFacade.kt:374)
E MyNoteDBAdapter: 	at net.bible.service.sword.SwordContentFacade.readHtmlTextOptimizedZTextOsis$app_debug(SwordContentFacade.kt:153)
E MyNoteDBAdapter: 	at net.bible.service.sword.SwordContentFacade.readHtmlText(SwordContentFacade.kt:104)
E MyNoteDBAdapter: 	at net.bible.android.control.page.CurrentPageBase.getPageContent(CurrentPageBase.kt:124)
E MyNoteDBAdapter: 	at net.bible.android.control.page.CurrentBiblePage.getFragmentForChapter(CurrentBiblePage.kt:68)
E MyNoteDBAdapter: 	at net.bible.android.view.activity.page.BibleInfiniteScrollPopulator$requestMoreTextAtEnd$1.invoke(BibleInfiniteScrollPopulator.kt:61)
E MyNoteDBAdapter: 	at net.bible.android.view.activity.page.BibleInfiniteScrollPopulator$requestMoreTextAtEnd$1.invoke(BibleInfiniteScrollPopulator.kt:34)
E MyNoteDBAdapter: 	at org.jetbrains.anko.AsyncKt$doAsync$1.invoke(Async.kt:143)
E MyNoteDBAdapter: 	at org.jetbrains.anko.AsyncKt$doAsync$1.invoke(Async.kt)
E MyNoteDBAdapter: 	at org.jetbrains.anko.AsyncKt$sam$java_util_concurrent_Callable$0.call(Async.kt)
E MyNoteDBAdapter: 	at java.util.concurrent.FutureTask.run(FutureTask.java:237)
E MyNoteDBAdapter: 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)
E MyNoteDBAdapter: 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
E MyNoteDBAdapter: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
E MyNoteDBAdapter: 	at java.lang.Thread.run(Thread.java:818)
D MyNoteDBAdapter: myNotesInPassage set to 7 item long list
E CurrentPage: Error getting bible text
E CurrentPage: kotlin.KotlinNullPointerException
E CurrentPage: 	at net.bible.service.db.mynote.MyNoteDto.getVerseRange(MyNoteDto.kt:54)
E CurrentPage: 	at net.bible.service.format.usermarks.MyNoteFormatSupport.getVersesWithNotesInPassage(MyNoteFormatSupport.java:66)
E CurrentPage: 	at net.bible.service.sword.SwordContentFacade.getSaxHandler(SwordContentFacade.kt:374)
E CurrentPage: 	at net.bible.service.sword.SwordContentFacade.readHtmlTextOptimizedZTextOsis$app_debug(SwordContentFacade.kt:153)
E CurrentPage: 	at net.bible.service.sword.SwordContentFacade.readHtmlText(SwordContentFacade.kt:104)
E CurrentPage: 	at net.bible.android.control.page.CurrentPageBase.getPageContent(CurrentPageBase.kt:124)
E CurrentPage: 	at net.bible.android.control.page.CurrentBiblePage.getFragmentForChapter(CurrentBiblePage.kt:68)
E CurrentPage: 	at net.bible.android.view.activity.page.BibleInfiniteScrollPopulator$requestMoreTextAtEnd$1.invoke(BibleInfiniteScrollPopulator.kt:61)
E CurrentPage: 	at net.bible.android.view.activity.page.BibleInfiniteScrollPopulator$requestMoreTextAtEnd$1.invoke(BibleInfiniteScrollPopulator.kt:34)
E CurrentPage: 	at org.jetbrains.anko.AsyncKt$doAsync$1.invoke(Async.kt:143)
E CurrentPage: 	at org.jetbrains.anko.AsyncKt$doAsync$1.invoke(Async.kt)
E CurrentPage: 	at org.jetbrains.anko.AsyncKt$sam$java_util_concurrent_Callable$0.call(Async.kt)
E CurrentPage: 	at java.util.concurrent.FutureTask.run(FutureTask.java:237)
E CurrentPage: 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)
E CurrentPage: 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)
E CurrentPage: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)
E CurrentPage: 	at java.lang.Thread.run(Thread.java:818)

---- The third stack trace (This is the target one for the study) ----

E AndroidRuntime: FATAL EXCEPTION: main
E AndroidRuntime: Process: net.bible.android.activity, PID: 28032
E AndroidRuntime: java.lang.RuntimeException: Unable to start activity ComponentInfo{net.bible.android.activity/net.bible.android.view.activity.mynote.MyNotes}: kotlin.KotlinNullPointerException
E AndroidRuntime: 	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)
E AndroidRuntime: 	at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)
E AndroidRuntime: 	at android.app.ActivityThread.-wrap11(ActivityThread.java)
E AndroidRuntime: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)
E AndroidRuntime: 	at android.os.Handler.dispatchMessage(Handler.java:102)
E AndroidRuntime: 	at android.os.Looper.loop(Looper.java:148)
E AndroidRuntime: 	at android.app.ActivityThread.main(ActivityThread.java:5417)
E AndroidRuntime: 	at java.lang.reflect.Method.invoke(Native Method)
E AndroidRuntime: 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
E AndroidRuntime: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
E AndroidRuntime: Caused by: kotlin.KotlinNullPointerException
E AndroidRuntime: 	at net.bible.service.db.mynote.MyNoteDto.getConvertibleVerseRange(MyNoteDto.kt:58)
E AndroidRuntime: 	at net.bible.android.control.versification.sort.VersificationPrioritiser.getVersifications(VersificationPrioritiser.java:47)
E AndroidRuntime: 	at net.bible.android.control.versification.sort.VersificationPrioritiser.<init>(VersificationPrioritiser.java:41)
E AndroidRuntime: 	at net.bible.android.control.versification.sort.ConvertibleVerseRangeComparator$Builder.withMyNotes(ConvertibleVerseRangeComparator.java:84)
E AndroidRuntime: 	at net.bible.android.control.mynote.MyNoteDtoBibleOrderComparator.<init>(MyNoteDtoBibleOrderComparator.kt:31)
E AndroidRuntime: 	at net.bible.android.control.mynote.MyNoteDAO.getSortedMyNotes(MyNoteDAO.kt:113)
E AndroidRuntime: 	at net.bible.android.control.mynote.MyNoteDAO.getAllMyNotes(MyNoteDAO.kt:54)
E AndroidRuntime: 	at net.bible.android.control.mynote.MyNoteControl.getAllMyNotes(MyNoteControl.kt:145)
E AndroidRuntime: 	at net.bible.android.view.activity.mynote.MyNotes.loadUserNoteList(MyNotes.kt:167)
E AndroidRuntime: 	at net.bible.android.view.activity.mynote.MyNotes.initialiseView(MyNotes.kt:74)
E AndroidRuntime: 	at net.bible.android.view.activity.mynote.MyNotes.onCreate(MyNotes.kt:64)
E AndroidRuntime: 	at android.app.Activity.performCreate(Activity.java:6237)
E AndroidRuntime: 	at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)
E AndroidRuntime: 	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)
E AndroidRuntime: 	... 9 more

